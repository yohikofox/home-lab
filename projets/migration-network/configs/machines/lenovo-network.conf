# Configuration réseau PC Lenovo - Post Migration
# Interface Ethernet - IP Fixe

# ====================================================
# NETPLAN CONFIGURATION (Ubuntu/Debian avec Netplan)
# ====================================================
# Fichier: /etc/netplan/01-network-manager-all.yaml

network:
  version: 2
  renderer: networkd
  ethernets:
    [INTERFACE_NAME]:  # Remplacer par le nom de l'interface (ex: enp3s0, eth0)
      dhcp4: no
      addresses:
        - 10.0.0.101/24
      gateway4: 10.0.0.1
      nameservers:
        addresses: [127.0.0.1, 10.0.0.1, 1.1.1.1]
        search: [homelab.local]

# ====================================================
# IFUPDOWN CONFIGURATION (Debian/Ubuntu classique)
# ====================================================
# Fichier: /etc/network/interfaces

# auto [INTERFACE_NAME]
# iface [INTERFACE_NAME] inet static
#     address 10.0.0.101
#     netmask 255.255.255.0
#     gateway 10.0.0.1
#     dns-nameservers 127.0.0.1 10.0.0.1 1.1.1.1
#     dns-search homelab.local

# ====================================================
# NETWORKMANAGER CONFIGURATION
# ====================================================
# Alternative via nmcli:
# nmcli con mod [CONNECTION_NAME] ipv4.method manual
# nmcli con mod [CONNECTION_NAME] ipv4.addr "10.0.0.101/24"
# nmcli con mod [CONNECTION_NAME] ipv4.gateway "10.0.0.1"
# nmcli con mod [CONNECTION_NAME] ipv4.dns "127.0.0.1,10.0.0.1,1.1.1.1"

# ====================================================
# INFORMATIONS MIGRATION
# ====================================================
# IP Avant: 192.168.1.101
# IP Après: 10.0.0.101
# Routeur Avant: 192.168.1.1 (Huawei)
# Routeur Après: 10.0.0.1 (Netgear R7100LG)
# DNS: 127.0.0.1 (PiHole local), 10.0.0.1 (routeur backup)

# ====================================================
# SERVICES DOCKER IMPACTÉS
# ====================================================
# - Nginx Proxy Manager: Port forwarding 80/443 → 10.0.0.101 
# - PiHole: DNS du réseau → 10.0.0.101
# - Autres services: Pas d'impact (réseau Docker interne)

# ====================================================
# VÉRIFICATIONS POST-MIGRATION
# ====================================================
# ping 10.0.0.1          # Routeur
# ping 10.0.0.100        # RPI
# ping 8.8.8.8           # Internet
# nslookup google.com    # DNS
# curl -I https://vault.example.local  # Services web